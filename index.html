window.onload = function () {
    var ua = navigator.userAgent.toLowerCase();
    // 修正QQ浏览器检测（使用'qqbrowser'更准确）
    if (ua.indexOf('micromessenger') !== -1 || ua.indexOf('qqbrowser') !== -1) {
        // 只替换body内部内容，不包含完整HTML结构
        document.body.innerHTML = `
            <style>
                body, html {
                    width: 100%;
                    height: 100%;
                    margin: 0;
                    padding: 0;
                }
                .top-bar-guidance {
                    font-size: 15px;
                    color: #fff;
                    height: 70%;
                    line-height: 1.8;
                    padding-left: 20px;
                    padding-top: 20px;
                    background: #2466f4; 
                }
                img {
                    max-width: 100%;
                    height: auto;
                    display: block;
                    margin: 0 auto;
                }
            </style>
            <!-- 移除冗余的a标签 -->
            <img src="tip.jpg" alt="请使用浏览器打开">
        `;
        // 补充viewport元标签（原head中的关键配置，通过JS动态添加到head）
        var meta = document.createElement('meta');
        meta.name = 'viewport';
        meta.content = 'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no';
        document.head.appendChild(meta);
    } else {
        // 跳转逻辑正确，但建议添加延迟或提示（可选）
        window.location.href = 'https://dxtbr79.cn';
    }
};
